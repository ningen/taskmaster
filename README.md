# TaskMaster TUI

React、Ink、TypeScriptで構築された強力なターミナルベースのタスク管理アプリケーション。TaskMasterは日本語のワークフローシステムを採用し、個人・仕事のタスク管理のための美しいターミナルUIを提供します。

## 機能

### 🎯 タスク管理
- **日本語ステータスワークフロー**: タスクは明確な進行順序に従います: 作成 → 見積 → 開始 → 終了
- **優先度システム**: 低、中、高の優先度レベル
- **カテゴリー**: 個人、仕事、プロジェクト、買い物（カスタマイズ可能）
- **時間追跡**: 見積時間と実際の作業時間の追跡
- **日程管理**: 開始日、終了日、期限日のサポート
- **ステータス履歴**: タスクステータス変更の完全な監査記録

### 🖥️ ターミナルインターフェース
- **マルチスクリーンナビゲーション**: ダッシュボード、タスク、設定、ガントチャート表示
- **キーボードショートカット**: 単一キーコマンドによる効率的なナビゲーション
- **レスポンシブレイアウト**: 異なるターミナルサイズに適応
- **リアルタイム更新**: 永続化ストレージによるライブ更新インターフェース

### 📊 ビューとスクリーン
- **ダッシュボード**: タスク統計と最近のアクティビティの概要
- **タスク**: フィルタリングと管理機能付きの詳細タスクリスト
- **設定**: アプリケーションの設定と環境設定
- **ガントチャート**: プロジェクトタイムラインの可視化

### 💾 データ永続化
- **ファイルベースストレージ**: `~/.taskmaster/tasks.json`にタスクを保存
- **自動保存**: 変更の自動永続化
- **データ安全性**: 優雅なエラーハンドリングとバックアップメカニズム

## インストール

### 必要条件
- Node.js 16以上
- npmまたはyarnパッケージマネージャー

### ソースからインストール
```bash
# リポジトリをクローン
git clone <repository-url>
cd taskmaster

# 依存関係をインストール
npm install

# アプリケーションをビルド
npm run build

# アプリケーションを実行
npm start
```

### グローバルインストール
```bash
# グローバルインストール（npmに公開されている場合）
npm install -g taskmaster-tui

# どこからでも実行
taskmaster-tui
```

## 使い方

### アプリケーションの起動
```bash
# プロジェクトディレクトリから
npm start

# またはグローバルにインストールしている場合
taskmaster-tui

# nodeを直接使用
node dist/cli.js
```

### キーボードショートカット
- **q**: アプリケーション終了
- **d**: ダッシュボードに移動
- **t**: タスクに移動
- **s**: 設定に移動
- **g**: ガントチャートに移動
- **n**: 新しいタスクを作成
- **Enter**: 確認/選択
- **Escape**: キャンセル/戻る

### タスクステータスワークフロー
1. **作成**: 初期タスク作成
2. **見積**: 時間見積もりと計画を追加
3. **開始**: タスクの作業開始
4. **終了**: タスク完了

### タスクプロパティ
- **タイトル**: タスク名（必須）
- **説明**: 詳細なタスクの説明
- **カテゴリー**: 個人、仕事、プロジェクト、買い物
- **優先度**: 低、中、高
- **見積時間**: 完了までの時間見積もり
- **開始日**: タスクを開始する日
- **終了日**: 目標完了日
- **期限日**: 厳格な締切

## 開発

### プロジェクト構造
```
taskmaster/
├── source/                 # TypeScriptソースファイル
│   ├── app.tsx            # メインアプリケーションコンポーネント
│   ├── cli.tsx            # CLIエントリーポイント
│   ├── types.ts           # TypeScript型定義
│   ├── components/        # 再利用可能なUIコンポーネント
│   │   ├── Layout.tsx     # メインレイアウトコンポーネント
│   │   ├── NewTaskInput.tsx # タスク作成フォーム
│   │   └── WorkflowHistory.tsx # ステータス履歴表示
│   ├── context/           # 状態管理用React Context
│   │   └── AppContext.tsx # グローバルアプリケーション状態
│   ├── screens/           # アプリケーションスクリーン
│   │   ├── Dashboard.tsx  # 概要スクリーン
│   │   ├── Tasks.tsx      # タスク管理スクリーン
│   │   ├── Settings.tsx   # 設定スクリーン
│   │   └── Gantt.tsx      # ガントチャートスクリーン
│   └── utils/             # ユーティリティ関数
│       └── storage.ts     # ファイルベースデータ永続化
├── dist/                  # コンパイル済みJavaScript出力
├── test.tsx              # テストファイル
├── package.json          # プロジェクト依存関係とスクリプト
├── tsconfig.json         # TypeScript設定
└── README.md             # このファイル
```

### 利用可能なスクリプト
```bash
# 開発
npm run dev          # ウォッチモードコンパイル
npm run build        # 本番用ビルド
npm start           # ビルドしてアプリケーション実行
npm run run         # 代替実行コマンド

# テストと品質
npm test            # すべてのテストを実行（prettier、xo、ava）
```

### 開発環境セットアップ
```bash
# 依存関係をインストール
npm install

# 開発モードを開始（ウォッチコンパイル）
npm run dev

# 別のターミナルでアプリケーションを実行
node dist/cli.js
```

### テスト
プロジェクトで使用している技術：
- **AVA**: ユニットテスト用テストランナー
- **Prettier**: コードフォーマッター
- **XO**: React対応のESLintベースリンター
- **ink-testing-library**: Inkコンポーネント用テストユーティリティ

```bash
# すべてのテストを実行
npm test

# 個別のテストタイプを実行
npx prettier --check .
npx xo
npx ava
```

## アーキテクチャ

### 技術スタック
- **React**: UIコンポーネントライブラリ
- **Ink**: Reactベースのターミナル UIフレームワーク
- **TypeScript**: 型安全なJavaScript
- **meow**: CLI引数解析
- **fs-extra**: 拡張ファイルシステム操作
- **date-fns**: 日付操作ユーティリティ

### 状態管理
- **React Context**: useReducerを使用したグローバル状態管理
- **永続化ストレージ**: JSONシリアライゼーションによるファイルベースストレージ
- **リアルタイム更新**: 自動状態同期

### デザインパターン
- **コンポーネントベースアーキテクチャ**: モジュラーReactコンポーネント
- **Context Providerパターン**: 中央集権的状態管理
- **スクリーンベースナビゲーション**: 単一スクリーンに焦点を当てたUX
- **キーボードファーストインターフェース**: ターミナル使用に最適化

## データストレージ

### ストレージの場所
タスクは以下に保存されます: `~/.taskmaster/tasks.json`

### データ構造
```json
{
  "id": "unique-task-id",
  "title": "タスクタイトル",
  "description": "オプションの説明",
  "completed": false,
  "priority": "medium",
  "createdAt": "2023-01-01T00:00:00.000Z",
  "updatedAt": "2023-01-01T00:00:00.000Z",
  "category": "個人",
  "status": "作成",
  "statusHistory": [
    {
      "status": "作成",
      "timestamp": "2023-01-01T00:00:00.000Z"
    }
  ],
  "estimatedHours": 2,
  "startDate": "2023-01-01T00:00:00.000Z",
  "endDate": "2023-01-02T00:00:00.000Z"
}
```

### バックアップと復旧
- 各変更後にタスクが自動保存されます
- アプリケーションは不正なデータファイルを優雅に処理します
- `~/.taskmaster/tasks.json`をコピーしてマニュアルバックアップを作成できます

## 貢献

### 開発ガイドライン
1. 既存のコードスタイルとパターンに従う
2. 型安全性のためにTypeScriptを使用
3. 新機能にはテストを書く
4. コードがリンティング（XO + Prettier）を通過することを確認
5. 新機能についてはドキュメントを更新

### コードスタイル
- **TypeScript**: 適切な型定義を使用
- **React**: フックを使用した関数型コンポーネント
- **命名**: 記述的な名前と日本語ステータス用語を使用
- **ファイル構造**: 機能/コンポーネントタイプ別に整理

### テスト
- ユーティリティ関数のユニットテストを書く
- コンポーネントテストにはink-testing-libraryを使用
- 変更を提出する前にすべてのテストが通過することを確認

## トラブルシューティング

### よくある問題

#### アプリケーションが起動しない
```bash
# Node.jsのバージョンを確認
node --version  # 16以上である必要があります

# 依存関係を再インストール
rm -rf node_modules package-lock.json
npm install

# アプリケーションを再ビルド
npm run build
```

#### タスクが保存されない
```bash
# データディレクトリの権限を確認
ls -la ~/.taskmaster/

# 必要に応じて手動でディレクトリを作成
mkdir -p ~/.taskmaster
```

#### ターミナル表示の問題
- ターミナルがUnicode文字をサポートしていることを確認（日本語ステータス用）
- 表示問題が発生した場合は、異なるターミナルエミュレーターを試す
- ターミナルサイズを確認（推奨最小サイズ: 80x24）

## ライセンス

MIT License - 詳細はLICENSEファイルを参照してください。

## サポート

問題、機能要求、質問について：
1. 上記のトラブルシューティングセクションを確認
2. リポジトリの既存の問題を確認
3. 詳細な説明と再現手順を含む新しい問題を作成

## ロードマップ

### 予定されている機能
- [ ] タスクの依存関係とサブタスク
- [ ] チームコラボレーション機能
- [ ] エクスポート/インポート機能
- [ ] カスタムテーマと色
- [ ] タイマー付き時間追跡
- [ ] 定期的なタスク
- [ ] 検索と高度なフィルタリング
- [ ] 拡張性のためのプラグインシステム

### パフォーマンス改善
- [ ] 大きなタスクリストのレイジーローディング
- [ ] より良いパフォーマンスのための最適化されたレンダリング
- [ ] メモリ使用量の最適化
- [ ] 起動時間の改善

---

React、Ink、TypeScriptで❤️を込めて構築